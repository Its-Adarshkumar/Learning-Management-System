<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LMS GTB4CEC</title>
    <link rel="icon" type="image/png" href="/pictures/favicon.png" />
    <!-- Bootstrap + Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" />
    <link rel="stylesheet" href="/css/style.css" />
  </head>

  <body>
    <div class="page-container">
      <main class="content">
        <% if (page === "home" || page === "login" || page==="developed_by" || page==="about") { %> <%- include("../includes/header.ejs") %> <% } %> <% if (page === "userdashboard" || page === "show" || page === "certificates" || page === "feedback" || page==="courses" || page==="help" || page==="show_certificate" || page==="profile") { %>
        <button id="toggle-btn" class="toggle-btn"><i class="fa fa-bars"></i></button>
        <%- include("../includes/user_sidebar.ejs") %> <% } %> <% if (page === "admindashboard" || page === "video_upload" || page === "signup" || page === "showuser") { %>
        <button id="toggle-btn" class="toggle-btn"><i class="fa fa-bars"></i></button>
        <%- include("../includes/admin_sidebar.ejs") %> <% } %>

        <div class="main-wrapper">
          <% if (page === "home") { %> <%- include("../includes/landing.ejs") %> <% } %> <% if (page === "login" || page==="signup" || page==="about" || page==="userdashboard" || page==="admindashboard" || page==="video_upload" || page==="profile" || page==="certificates" || page==="help" ||
          page==="show_certificate" || page==="developed_by" || page==="feedback" || page==="courses" || page==="show" || page==="showuser") { %> <%- body %> <% } %>
        </div>
      </main>

      <footer><% if (page === "home" || page === "login" || page==="developed_by" || page==="about") { %> <%- include("../includes/footer.ejs") %> <% } %></footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/script.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const toggleBtn = document.getElementById("toggle-btn");
        const sidebar = document.getElementById("sidebar");
        const main = document.querySelector(".main-wrapper");

        if (toggleBtn && sidebar && main) {
          toggleBtn.addEventListener("click", () => {
            sidebar.classList.toggle("active");
            main.classList.toggle("shifted");
          });
        } else {
          console.warn("Sidebar toggle not initialized â€” element(s) missing");
        }
      });
    </script>
  </body>
</html>
